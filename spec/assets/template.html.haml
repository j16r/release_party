!!!
%html{:lang => "en", "xml:lang" => "en", :xmlns => "http://www.w3.org/1999/xhtml"}
  %head
    %meta{:content => "text/html; charset=utf-8", "http-equiv" => "Content-Type"}/
    %title Release Deployed - #{display_name}
  %body
    %style
      :sass
        $body_from: #efefef
        $body_to: #aeaeae

        *
          margin: 0
          padding: 0

        html, body
          font: 0.9em Helvetica, Verdana, Arial, sans-serif
          background: #323840
          background: -webkit-gradient(linear, left top, left bottom, from($body_from), to($body_to))
          background: -moz-linear-gradient(top, $body_from, $body_to)
          filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#323840', endColorstr='#223880')

        #header
          background: #323840
          background: -webkit-gradient(linear, left top, left bottom, from(#323840), to(#223880))
          background: -moz-linear-gradient(top, #323840, #223880)
          filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#323840', endColorstr='#223880')
          padding: 14px 0 7px
          border-bottom: solid 0.5em #000

          #panel
            margin-left: 16%
            width: 600px
            padding: 1em

            a
              color: white
              font-size: 3em
              font-weight: bold
              text-decoration: none
              text-shadow: 0 2px 0 rgba(0,0,0,0.2)

        #content
          margin-top: 2em
          margin-left: 16%
          width: 66%
          background: #fff
          -webkit-border-radius: 8px
          -moz-border-radius: 8px
          border-radius: 8px
          padding: 1.5em
          -webkit-box-shadow: 3px 3px 0 #222
          -moz-box-shadow: 3px 3px 0 #222
          box-shadow: 3px 3px 0 #222

          h1, h2, p, .story
            margin: 1em 0

          .story
            border: 1px solid black
            -webkit-border-radius: 4px
            -moz-border-radius: 4px
            border-radius: 4px
            padding: 0.4em
            overflow: hidden
            background: #e0e0e0
            background: -webkit-gradient(linear, left top, left bottom, from(#fefefe), to(#e0e0e0))
            background: -moz-linear-gradient(top, #fefefe, #e0e0e0)
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fefefe', endColorstr='#e0e0e0')

            .bug
              height: 1em

            .feature
              height: 3em

            .title
              margin: 0.2em 0
              font-weight: bold

        #footer
          margin-top: 2em
          margin-bottom: 2em
          margin-left: 16%
          width: 66%
          padding: 1em
          font-size: 0.5em
          background: #fff
          -webkit-border-radius: 8px
          -moz-border-radius: 8px
          border-radius: 8px
          -webkit-box-shadow: 3px 3px 0 #222
          -moz-box-shadow: 3px 3px 0 #222
          box-shadow: 3px 3px 0 #222

%body
  #header
    #panel
      %a{:href => 'http://github.com/excepttheweasel/release_party'} Release Party

  #content
    %h1 #{display_name} was deployed
    %p
      At #{release_finished} a #{stage} release of '#{display_name}' was
      deployed to #{domain} by '#{user}'.
    %h2 Stories delivered
    #features
      - finished_stories.each do |story|
        .story[story]
          .feature
            .title= story.name
            .description= story.description
    %h2 Known bugs
    #known_bugs
      - known_bugs.each do |story|
        .story[story]
          .bug
            .title= story.name
    - if release_notes?
      %h2 Release notes
      #release_notes
        %p= release_notes

  #footer
    %h2 This notice was produced with Release Party at #{release_finished}
